//*...*//重点：加分/扣分的条件


一、和弦走向的契合度
1.每个小节的开头音是否在根音的五和弦/七和弦（四级和弦甚至可以九和弦）里？（或者开头音空着，这是另一种情形）
（五和弦/七和弦出现的交替应该也很重要）
最好的契合：在根音的五和弦中
增加韵味的契合：七和弦（适量出现很好）
2.根据1，能否将旋律嵌套到某些特定的和弦走向里？
需要构建起和弦走向的库，涵盖例如4536251、1645、6415等和弦走向，确保旋律配上伴奏后好听

二、旋律的起伏变化
1.连续重复一个音不能太久
2.定义每小节的两相邻音之间相差的半音和除以音符数为平均起伏，平均起伏不能太大（防止旋律零碎）
3.定义大于某个半音数的为“大起伏”，大起伏不应太频繁，连续的大起伏方向相反，且前后应当能衔接起来，即删除这两个大起伏前后连接不应是大起伏，使旋律顺畅
4.一句旋律跨度不超过一个八度，保证旋律不大起伏

三、节奏
1.不应出现连续的快节奏，中间应夹杂慢节奏与空拍，防止节奏太快
2.一句连续的旋律不应太长（符合演唱实际）
3.每小节的开头不一定要有旋律音，但是每小节划分成四拍，至少有两拍上要有旋律音，确保节奏不至于太乱

四、判断调性方法
1.由于目的是生成旋律，因此可以将输入的midi文件全部改变为C大调，而四中的和弦走向均按照C大调对应的和弦级数来判断